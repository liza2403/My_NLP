# NSR. Пояснювальна записка.

## Зміст
   1. [Вступ](#l1)<br>
   2. [Основні визначення та скорочення](#l2)<br>
   3. [Мета роботи та актуальність](#l3)<br>
   4. [Об'єкт роботи та границі системи](#l4)<br>
   5. [Підходи та способи вирішення завдання](#l5)<br>
   6. [Проектування](#l6)<br>
   7. [Розробка](#l7)<br>
   8. [Тестування](#l78)<br>
   9. [Висновки](#l9)<br>
   10. [Посилання на джерела](#l10)<br>
   
   
   

## <a name="l1">Вступ</a>

У цьому документі будуть розглянуті вимоги, поставлені зацікавленною особою, до розроблюваної в рамках курсової роботи системи аналізу та сортування новин, 
а також висвітлено певні моменти з предметної області проєкту.

## <a name="l2">Основні визначення</a>

-**Маркування** - це процес нанесення на виріб марковання. На задоволеність користувачів рекомендаціями може впливати
маркування рекомендацій;

-**Профіль користувача** - візуальне відображення персональних даних, пов'язаних з конкретним користувачем, або характеристики робочого середовища. Впровадження системи фільтрації інформації вимагає створення моделі користувача, а згодом і профілю користувача. Моделювання користувача визначається як
дисципліна, яка стосується як способу отримання, так і використання інформації про користувача автоматизованою системою;

-**Система рекомендацій** - система рекомендацій визначається як рішення створення стратегії для користувачів у складних інформаційних середовищах;

-**Фільтрування за змістом** - методи фільтрації на основі вмісту базуються на описі товару та профілю уподобань користувача. В основі вмісту
рекомендаційної системи ключові слова використовуються для опису елементів, а створення профілю користувача вказує на тип контенту, який подобається цьому користувачеві;

 -**Вподобання** - надання персоналізованої та відповідної рекомендації користувачам відповідно до їх вподобаннь - кінцева мета систем рекомендацій;
 
 -**NLP** - псевдонауковий напрям у психотерапії та практичній психології, що вивчає закономірності суб'єктивного досвіду людей через розкриття механізмів і способів 
моделювання поведінки і передачі виявлених моделей іншим людям. Ефективність спростована;

-**TF-IDF** (від англ. TF — term frequency, IDF — inverse document frequency) — статистичний показник, що використовується для оцінки важливості слів у контексті документа, що є частиною колекції документів чи корпусу. Вага (значимість) слова пропорційна кількості вживань цього слова у документі, і обернено пропорційна частоті вживання слова у інших документах колекції;

-**Аналіз тональності тексту** (сентимент-аналіз, англ. Sentiment analysis) — клас методів контент-аналізу в комп'ютерній лінгвістиці, призначений для автоматизованого виявлення в текстах емоційно забарвленої лексики і емоційної оцінки авторів (думок) по відношенню до об'єктів, мова про які йде в тексті;

-**Модель «торба слів»** (англ. bag-of-words) - спрощене подання, що використовується в обробці природних мов і інформаційному пошуку. У цій моделі текст (наприклад, речення або документ) представляється у вигляді торби (мультимножини) його слів, не беручи до уваги граматику і навіть порядок слів, але зберігаючи множинність;

-**Файли-cookie** - у комп'ютерній термінології поняття, яке використовується для опису інформації у вигляді текстових або бінарних даних, отриманих від веб-сайту на 
веб-сервері, яка зберігається у клієнта, тобто браузера, а потім відправлена на той самий сайт, якщо його буде повторно відвідано.

## <a name="l3">Мета роботи та актуальність</a>

З великою кількістю електронної інформації у всесвітньому павутинні та простотою доступу до Інтернету, користувачі все частіше відчувають потребу в автоматизованих системах, які можуть їм допомогти орієнтуватися в величезному інформаційному просторі. Як вирішення цієї потреби з’явились системи рекомендацій, що надають користувачам персоналізовані рекомендації щодо вмісту, що відповідає їхнім потребам та уподобання. Система рекомендацій або система рекомендацій - це підклас фільтрації інформації система, яка прагне передбачити "рейтинг" або "перевагу", яку користувач надасть товару. A Система рекомендацій враховує переваги користувача та історію вибору користувача, а також рекомендує подібний вміст, який може зацікавити користувача. Зараз проглядається тенденція використання особливого виду файлів cookie, що використовуються задля аналітики продутку/проекту/порталу і тд. Сайти новин не є виключенням у  цьому перліку.

Таким чином, метою работи є створення системи, що, надаючи користувачеві n заголовків статей і виходячи з його вибору, буде рекомендувати m нових статей, де n та m вибираються користувачем. 

## <a name="l4">Об'єкт роботи та границі системи</a>

Цільовим програмним продуктом є NRS - система рекомендацій новин. Система використовує данні користувачів для вироблення обґрунтованих прогнозів щодо переваг користувачів, спираючись на дві основні парадигми: фільтрація на основі вмісту та спільна фільтрація. На початку, точність системи обмежується лише лінгвістичним аналізом. Фільтрування на основі вмісту, яке також називають когнітивною фільтрація, рекомендує предмети на основі порівняння між змістом контенту та профілем користувача. Зміст кожного елемента представлений у вигляді набору дескрипторів або термінів, як правило, слова, що трапляються в документі. Профіль користувача представлений з однаковими умовами та побудований аналізуючи вміст предметів, які побачив користувач. 

## <a name="l5">Підходи та способи вирішення завдання</a>

В роботі розроблювалася програма, яка реалізовувала аналіз настроїв за допомогою формули TF-IDF. Перша частина TF-IDF - це частина TF, або термінова частота. Частота термінів підраховує кількість випадків, коли дане слово з’являється у статті. Наприклад, якщо є стаття, в якій чотири рази згадується слово «плавання», термін частота слова «плавання» - чотири. Тепер, наприклад, постає необхідність пошуку сторінки, яка є найбільш релевантною до «як плавати». Замість того, щоб шукати термін "плавання", який містився б у багатьох документах, що стосуються всіх аспектів плавання, а не просто "як плавати", бажано б було знайти термін частоти кожного слова: "як" та "Плавати". Однак, використовуючи частоту термінів, перед користувачем постає проблема з цим методом. Найбільш частими термінами, перерахованими в аналізі, є загальні зупинні слова, такі як ",", "та" або "а". Це має сенс - це найбільш вживані слова в будь-якому документі. Однак ці слова не є конкретними і, безумовно, не дадуть уявлення про те, яка стаття в стеку є найбільш релевантною до «як плавати». Саме в цей момент частина IDF формули TF-IDF, або зворотна частота документів, стає дуже цінною. 

Частина формули IDF зменшує вагу термінів, які найчастіше трапляються в тексті. Це корисно, оскільки воно знецінює загальноприйняті слова зупинки, такі як „та“ або „і“, і розкриває актуальні терміни в документі. Повертаючись до нашого попереднього прикладу, це дозволить швидко знайти статтю, найбільш пов’язану з питанням «як плавати», і піднявши аналіз на наступний рівень, можливо буде визначити, які інші терміни часто використовуються в статтях про “Як плавати”.

TF обраховується:

![image](https://user-images.githubusercontent.com/55504714/119242661-6f1b8700-bb68-11eb-98f5-59d374b58dd3.png)

де n_{i} є число входжень слова в документ, а в знаменнику — загальна кількість слів в документі.


IDF обраховується:

![image2](https://user-images.githubusercontent.com/55504714/119242668-7fcbfd00-bb68-11eb-978b-9c05458a934b.png)

де
 - |D| — кількість документів колекції;
 - {|(d_{i} \supset t_{i})|}— кількість документів, в яких зустрічається слово t_{i} (коли n_{i} != 0).
 
Вибір основи логарифму у формулі не має значення, адже зміна основи призведе до зміни ваги кожного слова на постійний множник, тобто вагове співвідношення залишиться незмінним. Іншими словами, показник TF-IDF це добуток двох множників: TF та IDF.

## <a name="l6">Проектування</a>

Користувачеві потрібно знайти цікаві йому новини. Після запуску програми та авторизації користувач обирає новини. Система аналізує обрані користувачем дані (за заголовками). Знаходить відповідний до запиту контент. Після успішного завершення роботи програми, користувач отримує файл, де збережено всі дані за запитом. Отримані дані зберіга.ться на профілі користувача.

![use_case](http://www.plantuml.com/plantuml/png/SoWkIImgAStDuKfCBialKWWjJYtYIixFAodApr5GygrKyFC9K08AvEIa9fTavkSL0mLJKp8J5OBpIukIKvMuG1eKTEqGQc4Ce22wMXGkK04MRM1HY2iSKlDIW0u30000)


### Сценарії

***ID:*** UC_01

***НАЗВА:*** Авторизація

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:*** Користувач має обліковий запис

***РЕЗУЛЬТАТ:*** Користувач має доступ до свого облікового запису

***ВИКЛЮЧНІ СИТУАЦІЇ:***

•	EX_U1.1: Не всі поля було заповнено

•	EX_U1.2: Неправильно введені значення даних

•	EX_U1.3: Неможливий доступ до бази даних

***ОСНОВНИЙ СЦЕНАРІЙ:*** 

![use_case1](http://www.plantuml.com/plantuml/png/TL4nJ_fm4DtlKrpu3_-D1DsiCInkna4NLuo090e6wjQXmE12Gc8C9iPe_0QbW3GKuIky-qQ-gmE3iKb_VVVk-jxrjTeBQztm_lP68hnWOp4owzl0XaYHs4CaHLyE5Cz8iBMXzR5YvqbPnDXWnZF1seQ13pqY9JT7HecHsWJh_pPMh7uh8r4RyC2MbGlbDYeatZ15HiOzIYUTfhRQfK148dpyA621DLyyFJkFVFuT2ul9fJQnsCQ-MOgKn9ptbqsK874GIBiJrhNRQbw7-g_HgF6ImyiZnIljFv4Zy-qBwlYYN2bNTd1l1_UbthvIbnBvApJ_3DRaFHbVQKwBfU-8l2ZK-cw66I4VK-HiCQOTkVIyNTYZxOMTkq2gTEQl-WO0)


***ID:*** UC_02

***НАЗВА:*** Реєстрація в системі

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:*** Користувач не зареєстрований в системі

***РЕЗУЛЬТАТ:*** Створено обліковий запис користувача

***ВИКЛЮЧНІ СИТУАЦІЇ:***

•	EX_U2.1: Не всі поля було заповнено

•	EX_U2.2: Введеної пошти не існує

•	EX_U2.3: Користувач з такими даними (одним з параметрів введених даніх) все існує

***ОСНОВНИЙ СЦЕНАРІЙ:*** 

![use_case2](http://www.plantuml.com/plantuml/png/ZLBFIZfH5DxVfpZuM_ms8MIx9i9DsnQvQMka9fIAZJiNOnUgXI24Z11Xz0RNIMjGqrSuvutwpfs5HH8f3ETyzyptvymjNeVbTjYvkZHTVkILH9nAJsx4Si9Exhh6dvjzuX4xNekL7iznCYGq4Q_u5K_7Ix613erv0eB83-HAzLg3EgrSO43-aX7pZ9ViwFYarDNvPvv91Ep3aojJmWiPA3qWyc_0bCHevs99XsMei1UvbLX6eD_kNGKUKAzuoYdmFe5d-Ly6nFEVu-nsa0dulM84OQUzyoaNqlz3YWHseinzWlyCkeWcCQ5mMWIcqGmhrAxNBaBwLwsMyJC7PuV4Jn1vumMdwjT3HwVvGdvtKnOsvPwfDCv9gRRiyFi6VI9aWsTaXaExPQczBwdINzSvHWzSlxSgJ36MZQnzGv2OG3xEnFHwAFYkpZoR3N2Xcgt05940j-uJ)


***ID:*** UC_03

***НАЗВА:*** Пошук відповідних новин

***УЧАСНИКИ:*** Користувач, Система

***ПЕРЕДУМОВИ:*** Користувач не зареєстрований в системі

***РЕЗУЛЬТАТ:*** Створено обліковий запис користувача

***ВИКЛЮЧНІ СИТУАЦІЇ:***

•	EX_U3.1: Відсутність відповідного контенту

***ОСНОВНИЙ СЦЕНАРІЙ:*** 

![use_case3](http://www.plantuml.com/plantuml/png/TL6zIWD14ExtAGRi0sBdYQInjT36DcAYWYOIpov5aZFQY5WS2YA2u0DipcWkNkvyXM_Uo6-MIs7X5WlppNm_izkyZ5lz-Ehyp0tmZ4g7o7MaOqsGmUljm8M-snGymUD74ntXcvrKM0nHuOEtnrAJg1xI2T4PSehS2J9XDKMXZwHLo91Z8PYRbZa5qYi7SfEXgjw4IR-QD5AfOtpQ7Jd7c6z63D0INdRtzWScye2IBFEPCsHAPvsmc17-OqcHRYzkI__q-2IMjKwdnUEs3hS5B_JwGe6SvbM0TWuQ6urrr-uUYP6S6RtRAzd2blOQ7WiKb1UQbQn34zxsq5Jl6Vc_bxNDMHElrPYlCe1AqphsoY3YF_Gk8jTa57xMBm00)

## <a name="l7">Розробка</a>

Рекомендаційна система на основі tf-idf як векторне представлення документів працює наступним чином:

1) Представляє статті в моделі "торби слів":

  1.1) Читання CSV-файлу для отримання ідентифікатора статті, заголовка та вмісту новин;
  
  1.2) Видалення розділових знаків та інших символів з кожної статті;
  
  1.3) Токенізування кожної статті;
  
  1.4) Стовбуровий маркер кожної статті;
  
2) Представляє користувача з точки зору прочитаних статей пов'язаних слів;

3) Створює матрицю TF-IDF для прочитаних та непрочитаних статей;

4) Обчислює схожість косинусів між прочитаними та непрочитаними статтями користувача;

5) Повертає рекомендовані статті.

Реалізація кожного з пунктів описана у [TF-IDF_Recommender]()




## <a name="l8">Тестування</a>


 
 

## <a name="l9">Висновки</a>

Таким чином, розробка системи є доцільною як платформи, за допомогою якої будь-хто буде здатен відсортовувати цікаві саме для нього/неї новини, що прискорить використання часу  на пошук та обробку загльного переліку сайту. Назараз, аналогічно працюючі системи вже вмонтовані на сайтах новин, але жодна з них не є контрольованою користувачем.

## <a name="l10">Посилання</a>

1. [Sentiment classification with natural language processing](https://blog.usejournal.com/sentiment-classification-with-natural-language-processing-on-lstm-4dc0497c1f19)

2. https://medium.com/dataseries/everything-to-get-started-with-nlp-3ccfbb7405a2

3. https://medium.com/dataseries/sentiment-classifier-using-tfidf-3ffce3f1cbd5

4. https://python.gotrained.com/tf-idf-twitter-sentiment-analysis/
